(this["webpackJsonpstore-ospina-sergio"]=this["webpackJsonpstore-ospina-sergio"]||[]).push([[0],{30:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),s=n(7),o=n.n(s),i=n(4),u=(n(30),n(15)),l=n(16),d=function(e,t){var n=Object(c.useState)(1),r=Object(l.a)(n,2),a=r[0],s=r[1],o=Math.ceil(e.length/t);return{next:function(){s((function(e){return Math.min(e+1,o)}))},prev:function(){s((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);s((function(e){return Math.min(t,o)}))},currentData:function(){var n=(a-1)*t,r=n+t;return e.slice(n,r)},currentPage:a,maxPage:o}},p=function(e){var t=e.getProducts,n=e.products,a=d(n,8),s=a.currentData,o=a.maxPage,i=a.next,l=a.prev,p=a.currentPage,j=a.jump,b=Object(u.a)(Array(o).keys()),h=s();return Object(c.useEffect)((function(){t()}),[]),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"row",children:h.map((function(e){return Object(r.jsx)("div",{className:"col-md-3",children:Object(r.jsxs)("div",{className:"card mb-3 border-info",children:[Object(r.jsx)("img",{src:e.img.hdUrl,className:"card-img-top",alt:e.img.hdUrl}),Object(r.jsxs)("div",{className:"card-body text-center",children:[Object(r.jsx)("h6",{className:"card-subtitle text-muted",children:e.category}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"text-muted",children:e.name}),Object(r.jsx)("i",{className:"fab fa-shopping-bag"})]})]})},e._id)}))}),Object(r.jsx)("div",{children:Object(r.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(r.jsx)("li",{className:"page-item",onClick:l,children:Object(r.jsx)("a",{className:"page-link",children:"\xab"})}),b.map((function(e){return Object(r.jsx)("li",{className:e+1===p?"page-item active":"page-item",onClick:function(){return j(e+1)},children:Object(r.jsx)("a",{className:"page-link",children:e+1})},e)})),Object(r.jsx)("li",{className:"page-item",onClick:i,children:Object(r.jsx)("a",{className:"page-link",children:"\xbb"})})]})})]})},j=n(2),b=n.n(j),h=n(3),f="SHOW_MOST_RECENT_PRODUCTS",m="SHOW_LOWEST_PRICE_PRODUCTS",O="SHOW_HIGHEST_PRICE_PRODUCTS",x={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk"},g=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://coding-challenge-api.aerolab.co/products",e.next=3,fetch("https://coding-challenge-api.aerolab.co/products",{headers:x});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://coding-challenge-api.aerolab.co/user/me",e.next=3,fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:x});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://coding-challenge-api.aerolab.co/user/points",e.next=3,fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",body:JSON.stringify({amount:1e3}),headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){return function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:n=e.sent,t({type:f,payload:{mostRecentProducts:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=Object(i.b)((function(e){var t=e.ContentReducer,n=e.UserReducer;return console.log(n,"user reducer"),{products:t}}),(function(e){return{getProducts:function(){e(N())}}}))(p),k=function(e){var t=e.getMostRecentProducts,n=e.getLowestPriceProducts,c=e.getHighestPriceProducts;return Object(r.jsxs)("div",{className:"container my-5",children:[Object(r.jsx)("h6",{children:"Sort by:"}),Object(r.jsx)("button",{type:"button",className:"btn btn-outline-info mr-3",onClick:function(){return t()},children:"Most Recent"}),Object(r.jsx)("button",{type:"button",className:"btn btn-outline-info mr-3",onClick:function(){return n()},children:"Lowest Price"}),Object(r.jsx)("button",{type:"button",className:"btn btn-outline-info mr-3",onClick:function(){return c()},children:"Highest Price"}),Object(r.jsx)("hr",{className:"border border-secondary my-5"})]})},w=Object(i.b)(null,(function(e){return{getMostRecentProducts:function(){e(N())},getLowestPriceProducts:function(){e(function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:n=e.sent,t({type:m,payload:{lowestPriceProducts:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getHighestPriceProducts:function(){e(function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:n=e.sent,t({type:O,payload:{highestPriceProducts:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(k),I=function(e){var t=e.onUser,n=e.userInfo,a=e.onPoints;Object(c.useEffect)((function(){t()}),[]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(r.jsx)("a",{className:"navbar-brand",children:n.name}),Object(r.jsx)("div",{className:"badge badge-pill badge-info",children:n.points}),Object(r.jsx)("button",{className:"navbar-toggler collapsed",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(r.jsx)("span",{className:"navbar-toggler-icon"})}),Object(r.jsx)("div",{className:"navbar-collapse collapse",id:"navbarColor03",children:Object(r.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link","data-target":"#exampleModal",children:"Historical"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",children:"About"})}),Object(r.jsx)("li",{className:"nav-item dropdown",children:Object(r.jsx)("div",{class:"form-group",children:Object(r.jsxs)("select",{class:"custom-select",onChange:function(e){return function(e){var t=e.target.value;console.log(t,"selected"),a(t)}(e)},children:[Object(r.jsx)("option",{selected:"",children:"Add more points"}),Object(r.jsx)("option",{value:"1000",children:"1000 points"}),Object(r.jsx)("option",{value:"5000",children:"5000 points"}),Object(r.jsx)("option",{value:"7500",children:"7500 points"})]})})})]})})]}),Object(r.jsxs)("div",{className:"jumbotron",children:[Object(r.jsx)("h1",{className:"display-3",children:"Reward Store"}),Object(r.jsx)("p",{className:"lead",children:"This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information."}),Object(r.jsx)("hr",{className:"my-4"}),Object(r.jsx)("p",{className:"lead",children:Object(r.jsx)("a",{className:"btn btn-primary btn-lg",href:"#",role:"button",children:"Learn more or go to my page"})})]})]})},C="SHOW_USER",R="SHOW_USER",S=Object(i.b)((function(e){var t=e.UserReducer;return console.log(t,"userInfooo "),{userInfo:t}}),(function(e){return{onUser:function(){e(function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:n=e.sent,t({type:C,payload:{userInfo:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onPoints:function(t){e(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:r=t.sent,n({type:R,payload:{pointsUpdated:r}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(I);var T=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(S,{}),Object(r.jsx)(w,{}),Object(r.jsx)(P,{})]})},U=n(5),E=n(14),J=function(e){return e.sort((function(e,t){return t.cost-e.cost}))},_=function(e){return e.sort((function(e,t){return e.cost-t.cost}))},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload.mostRecentProducts;case m:return _(t.payload.lowestPriceProducts);case O:return J(t.payload.highestPriceProducts);default:return e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.payload.userInfo;case R:return t.payload.pointsUpdated;default:return e}},D=Object(U.c)({ContentReducer:W,UserReducer:B}),G=Object(U.d)(D,Object(U.a)(E.a));o.a.render(Object(r.jsx)(i.a,{store:G,children:Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(T,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.0c87c07d.chunk.js.map